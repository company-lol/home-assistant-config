- id: unoccupied-laugh
  alias: Unoccupied Laugh
  trigger:
    platform: state
    entity_id: binary_sensor.motion_sensed
    to: 'on'
  condition:
    condition: state
    entity_id: input_boolean.occupied
    state: 'off'
  action:
  - service: camera.snapshot
    data:
        entity_id: camera.office
        filename: "/config/www/snapshots/office_motion_unoccopied.jpg"

  - service: notify.text_alerts
    data:
        message: Motion in office when office is unoccupied
  - delay: 2
  - service: notify.slack
    data:
        title: "Office Camera"
        message: ""
        data:
          file:
            path: "/config/www/snapshots/office_motion_unoccopied.jpg"

  - delay: 1
  
  - service: notify.laugh
    data:
        message: Laugh it up

